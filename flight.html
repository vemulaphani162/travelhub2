<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Domestic Flight Search | Your Travel Site</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Modern UI/UX Styles */
        :root {
            --primary: #3a86ff;
            --primary-light: #ebf3ff;
            --secondary: #1a1a2e;
            --accent: #ffbe0b;
            --light: #f8f9fa;
            --dark: #212529;
            --success: #28a745;
            --warning: #fd7e14;
            --danger: #dc3545;
            --border-radius: 12px;
            --box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f5f7fa;
            color: var(--secondary);
            line-height: 1.6;
            overflow-x: hidden;
        }
        
        .flight-booking-container {
            max-width: 1000px;
            margin: 2rem auto;
            padding: 2rem;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            position: relative;
            overflow: hidden;
        }
        
        .flight-booking-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 8px;
            background: linear-gradient(90deg, #3a86ff, #2ecc71);
        }
        
        /* Animated background elements */
        .bg-plane {
            position: absolute;
            width: 100px;
            height: 100px;
            opacity: 0.1;
            z-index: -1;
            animation: floatPlane 15s linear infinite;
        }
        
        @keyframes floatPlane {
            0% { transform: translateX(-100px) translateY(50px) rotate(-10deg); }
            100% { transform: translateX(calc(100vw + 100px)) translateY(-50px) rotate(10deg); }
        }
        
        /* Header styles */
        .flight-booking-header {
            text-align: center;
            margin-bottom: 2rem;
            position: relative;
        }
        
        .flight-booking-header h2 {
            color: var(--secondary);
            font-size: 2rem;
            margin-bottom: 0.5rem;
            font-weight: 700;
        }
        
        .flight-booking-header p {
            color: #6c757d;
            font-size: 1rem;
        }
        
        .flight-booking-header::after {
            content: '';
            display: block;
            width: 80px;
            height: 4px;
            background: var(--primary);
            margin: 1rem auto 0;
            border-radius: 2px;
        }
        
        /* Tabs */
        .flight-tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 2rem;
            border-bottom: 1px solid #e9ecef;
        }
        
        .flight-tab {
            padding: 0.75rem 1.5rem;
            cursor: pointer;
            font-weight: 600;
            color: #6c757d;
            border-bottom: 3px solid transparent;
            transition: var(--transition);
            position: relative;
        }
        
        .flight-tab.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }
        
        .flight-tab:hover:not(.active) {
            color: var(--primary);
        }
        
        /* Form Styles */
        .flight-booking-form {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .form-group {
            margin-bottom: 1rem;
            position: relative;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--secondary);
            font-weight: 500;
            font-size: 0.9rem;
        }
        
        .form-control {
            width: 100%;
            padding: 0.875rem 1rem;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            font-size: 1rem;
            transition: var(--transition);
            background-color: white;
            appearance: none;
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(58, 134, 255, 0.2);
        }
        
        .select-wrapper {
            position: relative;
        }
        
        .select-wrapper::after {
            content: 'âŒ„';
            position: absolute;
            top: 50%;
            right: 1rem;
            transform: translateY(-50%);
            pointer-events: none;
            color: #6c757d;
        }
        
        .datepicker-group {
            position: relative;
        }
        
        .datepicker-group::after {
            content: 'ðŸ“…';
            position: absolute;
            right: 1rem;
            top: 50%;
            transform: translateY(-50%);
            pointer-events: none;
        }
        
        /* Passenger Selector */
        .passenger-selector {
            position: relative;
        }
        
        .passenger-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 1rem;
            z-index: 100;
            box-shadow: var(--box-shadow);
            display: none;
            animation: fadeIn 0.3s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .passenger-dropdown.active {
            display: block;
        }
        
        /* Button Styles */
        .search-btn {
            background: linear-gradient(135deg, var(--primary), #2a75e6);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 1rem 2rem;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            grid-column: 1 / -1;
            margin-top: 0.5rem;
            box-shadow: 0 4px 12px rgba(58, 134, 255, 0.3);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            position: relative;
            overflow: hidden;
        }
        
        .search-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(58, 134, 255, 0.3);
        }
        
        .search-btn:active {
            transform: translateY(0);
        }
        
        .search-btn::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -60%;
            width: 40px;
            height: 200%;
            background: rgba(255, 255, 255, 0.2);
            transform: rotate(30deg);
            animation: shine 3s infinite ease-in-out;
        }
        
        @keyframes shine {
            0% { left: -60%; }
            20% { left: 100%; }
            100% { left: 100%; }
        }
        
        /* Flight Results */
        .flight-results {
            background: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            animation: fadeIn 0.5s ease-out;
        }
        
        .flight-card {
            display: grid;
            grid-template-columns: 100px 1fr 150px;
            gap: 1.5rem;
            padding: 1.5rem;
            border-bottom: 1px solid #f1f3f5;
            transition: var(--transition);
            position: relative;
        }
        
        .flight-card:last-child {
            border-bottom: none;
        }
        
        .flight-card:hover {
            background-color: var(--primary-light);
            transform: translateY(-2px);
        }
        
        .flight-airline {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .flight-airline img {
            width: 56px;
            height: 56px;
            object-fit: contain;
            margin-bottom: 0.5rem;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
            transition: transform 0.3s ease;
        }
        
        .flight-card:hover .flight-airline img {
            transform: scale(1.1);
        }
        
        .flight-airline span {
            font-size: 0.75rem;
            color: #6c757d;
            text-align: center;
            font-weight: 500;
        }
        
        .flight-details {
            display: grid;
            grid-template-columns: 1fr 40px 1fr;
            align-items: center;
        }
        
        .flight-time {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--secondary);
        }
        
        .flight-city {
            font-size: 0.875rem;
            color: #6c757d;
            margin-top: 0.25rem;
        }
        
        .flight-duration {
            text-align: center;
            font-size: 0.75rem;
            color: #6c757d;
            position: relative;
        }
        
        .flight-duration::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 1px;
            background: #dee2e6;
            z-index: -1;
        }
        
        .flight-duration span {
            background: white;
            padding: 0 0.5rem;
        }
        
        .flight-actions {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            justify-content: center;
        }
        
        .flight-stops {
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 0.5rem;
            text-align: right;
        }
        
        .book-btn {
            background: linear-gradient(135deg, var(--primary), #2a75e6);
            color: white;
            border: none;
            border-radius: 6px;
            padding: 0.5rem 1.25rem;
            font-size: 0.875rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 2px 8px rgba(58, 134, 255, 0.3);
        }
        
        .book-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(58, 134, 255, 0.3);
        }
        
        /* Time Slots Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .time-slot-modal {
            background: white;
            border-radius: var(--border-radius);
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            padding: 2rem;
            transform: translateY(20px);
            transition: all 0.3s ease;
            position: relative;
        }
        
        .modal-overlay.active .time-slot-modal {
            transform: translateY(0);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .modal-header h3 {
            font-size: 1.5rem;
            color: var(--secondary);
        }
        
        .close-modal {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #6c757d;
            transition: color 0.3s ease;
        }
        
        .close-modal:hover {
            color: var(--danger);
        }
        
        .flight-info {
            display: flex;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #f1f3f5;
        }
        
        .flight-info img {
            width: 50px;
            height: 50px;
            margin-right: 1rem;
        }
        
        .flight-route {
            flex: 1;
        }
        
        .flight-route h4 {
            font-size: 1.1rem;
            margin-bottom: 0.25rem;
        }
        
        .flight-route p {
            font-size: 0.875rem;
            color: #6c757d;
        }
        
        .time-slots {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .time-slot {
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 1rem;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .time-slot:hover {
            border-color: var(--primary);
            background: var(--primary-light);
        }
        
        .time-slot.selected {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        
        .time-slot .time {
            font-weight: 600;
            margin-bottom: 0.25rem;
        }
        
        .time-slot .duration {
            font-size: 0.75rem;
            opacity: 0.8;
        }
        
        .modal-actions {
            display: flex;
            justify-content: flex-end;
            gap: 1rem;
        }
        
        .modal-btn {
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .modal-btn.outline {
            background: white;
            border: 1px solid #dee2e6;
            color: var(--secondary);
        }
        
        .modal-btn.outline:hover {
            border-color: var(--primary);
            color: var(--primary);
        }
        
        .modal-btn.primary {
            background: var(--primary);
            color: white;
            border: none;
            box-shadow: 0 2px 8px rgba(58, 134, 255, 0.3);
        }
        
        .modal-btn.primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(58, 134, 255, 0.3);
        }
        
        /* Animation for flight cards */
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .flight-card {
            animation: slideUp 0.5s ease-out forwards;
            opacity: 0;
        }
        
        .flight-card:nth-child(1) { animation-delay: 0.1s; }
        .flight-card:nth-child(2) { animation-delay: 0.2s; }
        .flight-card:nth-child(3) { animation-delay: 0.3s; }
        .flight-card:nth-child(4) { animation-delay: 0.4s; }
        .flight-card:nth-child(5) { animation-delay: 0.5s; }
        
        /* Responsive Styles */
        @media (max-width: 768px) {
            .flight-booking-container {
                padding: 1.5rem;
                margin: 1rem;
            }
            
            .flight-card {
                grid-template-columns: 80px 1fr;
                grid-template-rows: auto auto;
            }
            
            .flight-actions {
                grid-column: 2;
                align-items: flex-start;
                margin-top: 1rem;
            }
            
            .flight-details {
                grid-column: 1 / -1;
                margin-bottom: 1rem;
            }
            
            .time-slots {
                grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            }
        }
        
        @media (max-width: 480px) {
            .flight-booking-form {
                grid-template-columns: 1fr;
            }
            
            .flight-tabs {
                flex-wrap: wrap;
            }
            
            .flight-tab {
                padding: 0.5rem 1rem;
                font-size: 0.875rem;
            }
            
            .time-slots {
                grid-template-columns: 1fr 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Animated background elements -->
    <div class="bg-plane">
        <svg viewBox="0 0 24 24" width="100" height="100" fill="#3a86ff">
            <path d="M22,16.21V18l-8-2.5V19.5c0,0.376-0.229,0.704-0.578,0.844C13.254,20.484,13.127,20.5,13,20.5c-0.297,0-0.584-0.132-0.776-0.368 L9.168,16.5L4.5,18l-1-2l4-1l-4-1l1-2l4.668,1.5l3.056-3.632C12.416,9.632,12.703,9.5,13,9.5c0.127,0,0.254,0.016,0.378,0.046 C13.771,9.696,14,10.024,14,10.4V13.5L22,11V12.79l-8,2.5V13.5c0-0.376-0.229-0.704-0.578-0.844C13.254,12.516,13.127,12.5,13,12.5 c-0.297,0-0.584,0.132-0.776,0.368L9.168,16.5L4.5,15l1-2l4,1l-4,1l1,2l4.668-1.5l3.056,3.632C12.416,20.368,12.703,20.5,13,20.5 c0.127,0,0.254-0.016,0.378-0.046C13.771,20.304,14,19.976,14,19.6v-0.89L22,16.21z"/>
        </svg>
    </div>
    
    <div class="flight-booking-container">
        <div class="flight-booking-header">
            <h2>Book Domestic Flights in India</h2>
            <p>Find the best flight options across Indian cities</p>
        </div>
        
        <div class="flight-tabs">
            <div class="flight-tab active" data-tab="one-way">One Way</div>
            <div class="flight-tab" data-tab="round-trip">Round Trip</div>
        </div>
        
        <form class="flight-booking-form" id="flightSearchForm">
            <div class="form-group select-wrapper">
                <label for="from">From</label>
                <select class="form-control" id="from" required>
                    <option value="">Select City</option>
                    <option value="DEL">Delhi (DEL)</option>
                    <option value="BOM">Mumbai (BOM)</option>
                    <option value="BLR">Bangalore (BLR)</option>
                    <option value="HYD">Hyderabad (HYD)</option>
                    <option value="CCU">Kolkata (CCU)</option>
                    <option value="MAA">Chennai (MAA)</option>
                    <option value="GOI">Goa (GOI)</option>
                    <option value="PNQ">Pune (PNQ)</option>
                    <option value="AMD">Ahmedabad (AMD)</option>
                    <option value="COK">Kochi (COK)</option>
                    <option value="TRV">Thiruvananthapuram (TRV)</option>
                    <option value="IXC">Chandigarh (IXC)</option>
                    <option value="JAI">Jaipur (JAI)</option>
                    <option value="LKO">Lucknow (LKO)</option>
                    <option value="VGA">Vijayawada (VGA)</option>
                    <option value="IXB">Bagdogra (IXB)</option>
                    <option value="IXR">Ranchi (IXR)</option>
                    <option value="PAT">Patna (PAT)</option>
                    <option value="GAU">Guwahati (GAU)</option>
                    <option value="IXZ">Port Blair (IXZ)</option>
                </select>
            </div>
            
            <div class="form-group select-wrapper">
                <label for="to">To</label>
                <select class="form-control" id="to" required>
                    <option value="">Select City</option>
                    <option value="DEL">Delhi (DEL)</option>
                    <option value="BOM">Mumbai (BOM)</option>
                    <option value="BLR">Bangalore (BLR)</option>
                    <option value="HYD">Hyderabad (HYD)</option>
                    <option value="CCU">Kolkata (CCU)</option>
                    <option value="MAA">Chennai (MAA)</option>
                    <option value="GOI">Goa (GOI)</option>
                    <option value="PNQ">Pune (PNQ)</option>
                    <option value="AMD">Ahmedabad (AMD)</option>
                    <option value="COK">Kochi (COK)</option>
                    <option value="TRV">Thiruvananthapuram (TRV)</option>
                    <option value="IXC">Chandigarh (IXC)</option>
                    <option value="JAI">Jaipur (JAI)</option>
                    <option value="LKO">Lucknow (LKO)</option>
                    <option value="VGA">Vijayawada (VGA)</option>
                    <option value="IXB">Bagdogra (IXB)</option>
                    <option value="IXR">Ranchi (IXR)</option>
                    <option value="PAT">Patna (PAT)</option>
                    <option value="GAU">Guwahati (GAU)</option>
                    <option value="IXZ">Port Blair (IXZ)</option>
                </select>
            </div>
            
            <div class="form-group datepicker-group">
                <label for="departure">Departure</label>
                <input type="date" class="form-control" id="departure" required>
            </div>
            
            <div class="form-group datepicker-group" id="returnDateGroup">
                <label for="return">Return</label>
                <input type="date" class="form-control" id="return">
            </div>
            
            <div class="form-group passenger-selector">
                <label for="passengers">Passengers</label>
                <input type="text" class="form-control" id="passengers" value="1 Adult" readonly>
                <div class="passenger-dropdown" id="passengerDropdown">
                    <div class="passenger-type">
                        <label>Adults (12+ yrs)</label>
                        <div class="passenger-counter">
                            <button type="button" id="adultMinus">-</button>
                            <span id="adultCount">1</span>
                            <button type="button" id="adultPlus">+</button>
                        </div>
                    </div>
                    <div class="passenger-type">
                        <label>Children (2-12 yrs)</label>
                        <div class="passenger-counter">
                            <button type="button" id="childMinus">-</button>
                            <span id="childCount">0</span>
                            <button type="button" id="childPlus">+</button>
                        </div>
                    </div>
                    <div class="passenger-type">
                        <label>Infants (<2 yrs)</label>
                        <div class="passenger-counter">
                            <button type="button" id="infantMinus">-</button>
                            <span id="infantCount">0</span>
                            <button type="button" id="infantPlus">+</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="form-group select-wrapper">
                <label for="class">Class</label>
                <select class="form-control" id="class">
                    <option value="economy">Economy</option>
                    <option value="premium">Premium Economy</option>
                    <option value="business">Business</option>
                </select>
            </div>
            
            <button type="submit" class="search-btn">
                <span>Search Flights</span>
            </button>
        </form>
        
        <div class="flight-results" id="flightResults">
            <div class="no-flights">
                <img src="https://cdn-icons-png.flaticon.com/512/825/825462.png" alt="Search flights">
                <p>Enter your travel details to find available flights</p>
            </div>
        </div>
    </div>
    
    <!-- Time Slots Modal -->
    <div class="modal-overlay" id="timeSlotModal">
        <div class="time-slot-modal">
            <div class="modal-header">
                <h3>Select Time Slot</h3>
                <button class="close-modal" id="closeModal">&times;</button>
            </div>
            
            <div class="flight-info">
                <img id="modalAirlineLogo" src="" alt="Airline Logo">
                <div class="flight-route">
                    <h4 id="modalFlightRoute">Delhi (DEL) to Mumbai (BOM)</h4>
                    <p id="modalFlightNumber">Flight 6E123</p>
                </div>
            </div>
            
            <h4>Available Time Slots</h4>
            <div class="time-slots" id="timeSlots">
                <!-- Time slots will be inserted here by JavaScript -->
            </div>
            
            <div class="modal-actions">
                <button class="modal-btn outline" id="cancelBooking">Cancel</button>
                <button class="modal-btn primary" id="confirmBooking">Continue Booking</button>
            </div>
        </div>
    </div>

    <script>
        // DOM Elements
        const flightSearchForm = document.getElementById('flightSearchForm');
        const flightResults = document.getElementById('flightResults');
        const tabs = document.querySelectorAll('.flight-tab');
        const returnDateGroup = document.getElementById('returnDateGroup');
        const passengersInput = document.getElementById('passengers');
        const passengerDropdown = document.getElementById('passengerDropdown');
        const adultCount = document.getElementById('adultCount');
        const childCount = document.getElementById('childCount');
        const infantCount = document.getElementById('infantCount');
        const timeSlotModal = document.getElementById('timeSlotModal');
        const closeModal = document.getElementById('closeModal');
        const cancelBooking = document.getElementById('cancelBooking');
        const confirmBooking = document.getElementById('confirmBooking');
        const timeSlots = document.getElementById('timeSlots');
        const modalAirlineLogo = document.getElementById('modalAirlineLogo');
        const modalFlightRoute = document.getElementById('modalFlightRoute');
        const modalFlightNumber = document.getElementById('modalFlightNumber');
        
        // Sample flight data for Indian domestic flights
        const sampleFlights = [
            {
                id: '6E123',
                airline: 'IndiGo',
                logo: 'https://upload.wikimedia.org/wikipedia/commons/thumb/9/9f/IndiGo_Logo.svg/1200px-IndiGo_Logo.svg.png',
                departureTime: '06:30',
                arrivalTime: '08:45',
                from: 'Delhi (DEL)',
                to: 'Mumbai (BOM)',
                duration: '2h 15m',
                stops: 0,
                timeSlots: [
                    { time: '06:30', duration: '2h 15m' },
                    { time: '09:15', duration: '2h 15m' },
                    { time: '12:45', duration: '2h 15m' },
                    { time: '15:30', duration: '2h 15m' },
                    { time: '18:15', duration: '2h 15m' },
                    { time: '21:00', duration: '2h 15m' }
                ]
            },
            {
                id: 'AI456',
                airline: 'Air India',
                logo: 'https://upload.wikimedia.org/wikipedia/commons/thumb/5/57/Air_India_Logo.svg/1200px-Air_India_Logo.svg.png',
                departureTime: '09:15',
                arrivalTime: '11:30',
                from: 'Delhi (DEL)',
                to: 'Mumbai (BOM)',
                duration: '2h 15m',
                stops: 0,
                timeSlots: [
                    { time: '05:45', duration: '2h 15m' },
                    { time: '09:15', duration: '2h 15m' },
                    { time: '13:30', duration: '2h 15m' },
                    { time: '17:45', duration: '2h 15m' },
                    { time: '20:15', duration: '2h 15m' }
                ]
            },
            {
                id: 'UK789',
                airline: 'Vistara',
                logo: 'https://upload.wikimedia.org/wikipedia/commons/thumb/5/5e/Vistara_logo.svg/1200px-Vistara_logo.svg.png',
                departureTime: '14:20',
                arrivalTime: '16:35',
                from: 'Delhi (DEL)',
                to: 'Mumbai (BOM)',
                duration: '2h 15m',
                stops: 0,
                timeSlots: [
                    { time: '07:30', duration: '2h 15m' },
                    { time: '11:45', duration: '2h 15m' },
                    { time: '14:20', duration: '2h 15m' },
                    { time: '19:00', duration: '2h 15m' }
                ]
            },
            {
                id: 'SG101',
                airline: 'SpiceJet',
                logo: 'https://upload.wikimedia.org/wikipedia/commons/thumb/1/16/SpiceJet_Logo.svg/1200px-SpiceJet_Logo.svg.png',
                departureTime: '18:45',
                arrivalTime: '21:00',
                from: 'Delhi (DEL)',
                to: 'Mumbai (BOM)',
                duration: '2h 15m',
                stops: 1,
                timeSlots: [
                    { time: '06:15', duration: '2h 15m' },
                    { time: '10:30', duration: '2h 15m' },
                    { time: '14:45', duration: '2h 15m' },
                    { time: '18:45', duration: '2h 15m' },
                    { time: '22:15', duration: '2h 15m' }
                ]
            },
            {
                id: 'G8123',
                airline: 'Go First',
                logo: 'https://upload.wikimedia.org/wikipedia/commons/thumb/3/3c/GoFirst_Logo.svg/1200px-GoFirst_Logo.svg.png',
                departureTime: '21:30',
                arrivalTime: '23:45',
                from: 'Delhi (DEL)',
                to: 'Mumbai (BOM)',
                duration: '2h 15m',
                stops: 0,
                timeSlots: [
                    { time: '05:30', duration: '2h 15m' },
                    { time: '09:45', duration: '2h 15m' },
                    { time: '14:00', duration: '2h 15m' },
                    { time: '18:15', duration: '2h 15m' },
                    { time: '21:30', duration: '2h 15m' }
                ]
            }
        ];
        
        // Initialize date inputs
        function initDates() {
            const today = new Date();
            const tomorrow = new Date();
            tomorrow.setDate(today.getDate() + 1);
            
            document.getElementById('departure').valueAsDate = today;
            document.getElementById('return').valueAsDate = tomorrow;
            
            // Set min dates
            document.getElementById('departure').min = today.toISOString().split('T')[0];
            document.getElementById('return').min = today.toISOString().split('T')[0];
        }
        
        // Tab switching functionality
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                tabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                
                // Handle return date visibility
                if (tab.dataset.tab === 'one-way') {
                    returnDateGroup.style.display = 'none';
                    document.getElementById('return').required = false;
                } else {
                    returnDateGroup.style.display = 'block';
                    document.getElementById('return').required = true;
                }
            });
        });
        
        // Passenger selector functionality
        passengersInput.addEventListener('click', (e) => {
            e.preventDefault();
            passengerDropdown.classList.toggle('active');
        });
        
        // Close passenger dropdown when clicking outside
        document.addEventListener('click', (e) => {
            if (!passengersInput.contains(e.target) && !passengerDropdown.contains(e.target)) {
                passengerDropdown.classList.remove('active');
            }
        });
        
        // Passenger counter functionality
        function updatePassengerDisplay() {
            const adults = parseInt(adultCount.textContent);
            const children = parseInt(childCount.textContent);
            const infants = parseInt(infantCount.textContent);
            
            let passengerText = '';
            
            if (adults > 0) passengerText += `${adults} Adult${adults > 1 ? 's' : ''}`;
            if (children > 0) passengerText += `${adults > 0 ? ', ' : ''}${children} Child${children > 1 ? 'ren' : ''}`;
            if (infants > 0) passengerText += `${adults > 0 || children > 0 ? ', ' : ''}${infants} Infant${infants > 1 ? 's' : ''}`;
            
            passengersInput.value = passengerText;
        }
        
        // Adult counter
        document.getElementById('adultPlus').addEventListener('click', () => {
            let count = parseInt(adultCount.textContent);
            if (count < 9) {
                adultCount.textContent = count + 1;
                updatePassengerDisplay();
            }
        });
        
        document.getElementById('adultMinus').addEventListener('click', () => {
            let count = parseInt(adultCount.textContent);
            if (count > 1) {
                adultCount.textContent = count - 1;
                updatePassengerDisplay();
            }
        });
        
        // Child counter
        document.getElementById('childPlus').addEventListener('click', () => {
            let count = parseInt(childCount.textContent);
            if (count < 8) {
                childCount.textContent = count + 1;
                updatePassengerDisplay();
            }
        });
        
        document.getElementById('childMinus').addEventListener('click', () => {
            let count = parseInt(childCount.textContent);
            if (count > 0) {
                childCount.textContent = count - 1;
                updatePassengerDisplay();
            }
        });
        
        // Infant counter
        document.getElementById('infantPlus').addEventListener('click', () => {
            let count = parseInt(infantCount.textContent);
            if (count < 4) {
                infantCount.textContent = count + 1;
                updatePassengerDisplay();
            }
        });
        
        document.getElementById('infantMinus').addEventListener('click', () => {
            let count = parseInt(infantCount.textContent);
            if (count > 0) {
                infantCount.textContent = count - 1;
                updatePassengerDisplay();
            }
        });
        
        // Display flight results
        function displayFlights(flights) {
            if (flights.length === 0) {
                flightResults.innerHTML = `
                    <div class="no-flights">
                        <img src="https://cdn-icons-png.flaticon.com/512/4076/4076478.png" alt="No flights">
                        <p>No flights found for your search criteria. Please try different dates or destinations.</p>
                    </div>
                `;
                return;
            }
            
            let flightsHTML = '';
            
            flights.forEach(flight => {
                flightsHTML += `
                    <div class="flight-card">
                        <div class="flight-airline">
                            <img src="${flight.logo}" alt="${flight.airline}">
                            <span>${flight.airline}</span>
                        </div>
                        
                        <div class="flight-details">
                            <div>
                                <div class="flight-time">${flight.departureTime}</div>
                                <div class="flight-city">${flight.from}</div>
                            </div>
                            
                            <div class="flight-duration">
                                <span>${flight.duration}</span>
                            </div>
                            
                            <div>
                                <div class="flight-time">${flight.arrivalTime}</div>
                                <div class="flight-city">${flight.to}</div>
                            </div>
                        </div>
                        
                        <div class="flight-actions">
                            <div class="flight-stops">
                                ${flight.stops > 0 ? 
                                    `${flight.stops} stop${flight.stops > 1 ? 's' : ''}` : 
                                    'Non-stop'
                                }
                            </div>
                            <button class="book-btn" data-flight="${flight.id}">View Time Slots</button>
                        </div>
                    </div>
                `;
            });
            
            flightResults.innerHTML = flightsHTML;
            
            // Add event listeners to book buttons
            document.querySelectorAll('.book-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const flightId = e.target.dataset.flight;
                    const flight = sampleFlights.find(f => f.id === flightId);
                    showTimeSlots(flight);
                });
            });
        }
        
        // Show time slots modal
        function showTimeSlots(flight) {
            modalAirlineLogo.src = flight.logo;
            modalFlightRoute.textContent = `${flight.from} to ${flight.to}`;
            modalFlightNumber.textContent = `${flight.airline} Flight ${flight.id}`;
            
            // Clear previous time slots
            timeSlots.innerHTML = '';
            
            // Add time slots
            flight.timeSlots.forEach(slot => {
                const slotElement = document.createElement('div');
                slotElement.className = 'time-slot';
                slotElement.innerHTML = `
                    <div class="time">${slot.time}</div>
                    <div class="duration">${slot.duration}</div>
                `;
                
                slotElement.addEventListener('click', () => {
                    // Remove selected class from all slots
                    document.querySelectorAll('.time-slot').forEach(s => {
                        s.classList.remove('selected');
                    });
                    
                    // Add selected class to clicked slot
                    slotElement.classList.add('selected');
                });
                
                timeSlots.appendChild(slotElement);
            });
            
            // Show modal
            timeSlotModal.classList.add('active');
        }
        
        // Close modal
        function closeTimeSlotsModal() {
            timeSlotModal.classList.remove('active');
        }
        
        // Form submission
        flightSearchForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            // Get form values
            const from = document.getElementById('from').value;
            const to = document.getElementById('to').value;
            const departure = document.getElementById('departure').value;
            const returnDate = document.getElementById('return').value;
            const passengers = passengersInput.value;
            const flightClass = document.getElementById('class').value;
            
            // Validate same origin and destination
            if (from === to) {
                alert('Please select different origin and destination cities');
                return;
            }
            
            // In a real app, you would make an API call here
            console.log('Searching flights:', { from, to, departure, returnDate, passengers, flightClass });
            
            // Filter sample flights based on selection (simplified for demo)
            const filteredFlights = sampleFlights.filter(flight => {
                return flight.from.includes(from) && flight.to.includes(to);
            });
            
            // Simulate API call delay with loading state
            flightResults.innerHTML = `
                <div class="no-flights">
                    <img src="https://cdn-icons-png.flaticon.com/512/10691/10691802.png" alt="Searching flights">
                    <p>Searching for available flights...</p>
                </div>
            `;
            
            setTimeout(() => {
                displayFlights(filteredFlights.length > 0 ? filteredFlights : sampleFlights);
            }, 1500);
        });
        
        // Modal event listeners
        closeModal.addEventListener('click', closeTimeSlotsModal);
        cancelBooking.addEventListener('click', closeTimeSlotsModal);
        
        confirmBooking.addEventListener('click', () => {
            const selectedSlot = document.querySelector('.time-slot.selected');
            if (!selectedSlot) {
                alert('Please select a time slot');
                return;
            }
            
            const time = selectedSlot.querySelector('.time').textContent;
            alert(`Proceeding to booking for selected time: ${time}`);
            closeTimeSlotsModal();
        });
        
        // Close modal when clicking outside
        timeSlotModal.addEventListener('click', (e) => {
            if (e.target === timeSlotModal) {
                closeTimeSlotsModal();
            }
        });
        
        // Initialize the widget
        function initFlightWidget() {
            initDates();
            updatePassengerDisplay();
            
            // Hide return date for one-way by default
            returnDateGroup.style.display = 'none';
            document.getElementById('return').required = false;
            
            // Set default popular route
            document.getElementById('from').value = 'DEL';
            document.getElementById('to').value = 'BOM';
            
            // Create multiple animated planes
            for (let i = 0; i < 3; i++) {
                const plane = document.createElement('div');
                plane.className = 'bg-plane';
                plane.innerHTML = `
                    <svg viewBox="0 0 24 24" width="100" height="100" fill="#3a86ff">
                        <path d="M22,16.21V18l-8-2.5V19.5c0,0.376-0.229,0.704-0.578,0.844C13.254,20.484,13.127,20.5,13,20.5c-0.297,0-0.584-0.132-0.776-0.368 L9.168,16.5L4.5,18l-1-2l4-1l-4-1l1-2l4.668,1.5l3.056-3.632C12.416,9.632,12.703,9.5,13,9.5c0.127,0,0.254,0.016,0.378,0.046 C13.771,9.696,14,10.024,14,10.4V13.5L22,11V12.79l-8,2.5V13.5c0-0.376-0.229-0.704-0.578-0.844C13.254,12.516,13.127,12.5,13,12.5 c-0.297,0-0.584,0.132-0.776,0.368L9.168,16.5L4.5,15l1-2l4,1l-4,1l1,2l4.668-1.5l3.056,3.632C12.416,20.368,12.703,20.5,13,20.5 c0.127,0,0.254-0.016,0.378-0.046C13.771,20.304,14,19.976,14,19.6v-0.89L22,16.21z"/>
                    </svg>
                `;
                plane.style.animationDelay = `${i * 5}s`;
                document.body.appendChild(plane);
            }
        }
        
        // Initialize when DOM is loaded
        document.addEventListener('DOMContentLoaded', initFlightWidget);
    </script>
</body>
</html>